# TODO-List

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ (TODO-–ª–∏—Å—Ç) –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Fiber –∏ PostgreSQL.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
  - [–ß–µ—Ä–µ–∑ Docker](#—á–µ—Ä–µ–∑-docker)
  - [–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫](#–ª–æ–∫–∞–ª—å–Ω—ã–π-–∑–∞–ø—É—Å–∫)
- [–ú–∏–≥—Ä–∞—Ü–∏–∏](#–º–∏–≥—Ä–∞—Ü–∏–∏)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∑–∞–ø—É—Å–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- [API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#api-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)
- [–û—á–∏—Å—Ç–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞](#–æ—á–∏—Å—Ç–∫–∞-–∏-–æ—Å—Ç–∞–Ω–æ–≤–∫–∞)

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –∑–∞–¥–∞—á–∞–º–∏ (tasks) —á–µ—Ä–µ–∑ HTTP API.

- –Ø–∑—ã–∫: Go 1.21+    
- –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫: [Fiber](https://github.com/gofiber/fiber)
- –ë–î: PostgreSQL (pgx)
- –ú–∏–≥—Ä–∞—Ü–∏–∏: SQL-—Å–∫—Ä–∏–ø—Ç—ã –∏–∑ –ø–∞–ø–∫–∏ `migrations/`


## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker & Docker Compose
- Go 1.21 –∏ –≤—ã—à–µ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ Docker

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   docker-compose up --build -d
   ```
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
   ```bash
   docker-compose logs -f app
   ```

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∞–∑—É –∏–∑ `migrations/`.

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   go mod download
   ```
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î.
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `psql` –∏–ª–∏ –ª—é–±–æ–π –º–∏–≥—Ä–∞—Ç–æ—Ä):
   ```bash
   psql "host=$DB_HOST port=$DB_PORT user=$DB_USER password=$DB_PASSWORD dbname=$DB_NAME sslmode=$DB_SSLMODE" -f migrations/0001_create_tasks_table.sql
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   go run cmd/server/main.go
   ```

---

## –ú–∏–≥—Ä–∞—Ü–∏–∏

SQL-—Ñ–∞–π–ª `migrations/0001_create_tasks_table.sql` —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É:

```sql
CREATE TABLE IF NOT EXISTS tasks (
  id SERIAL PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  status TEXT CHECK (status IN ('new','in_progress','done')) DEFAULT 'new',
  created_at TIMESTAMP DEFAULT now(),
  updated_at TIMESTAMP DEFAULT now()
);
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```ini
DB_HOST=postgres         # –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ PostgreSQL
DB_PORT=5432             # –ø–æ—Ä—Ç –ë–î
DB_USER=postgres         # –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
DB_PASSWORD=password     # –ø–∞—Ä–æ–ª—å
DB_NAME=todo             # –∏–º—è –ë–î
DB_SSLMODE=disable       # sslmode
APP_PORT=8080            # –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- Docker: `docker-compose up --build`
- –õ–æ–∫–∞–ª—å–Ω–æ: `go run cmd/server/main.go`

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ `http://localhost:${APP_PORT}`.

---

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL            | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|----------------|-------------------------------|
| POST  | `/tasks`       | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É          |
| GET   | `/tasks`       | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á    |
| PUT   | `/tasks/:id`   | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID         |
| DELETE| `/tasks/:id`   | –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID          |

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```bash
curl -X POST http://localhost:8080/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Buy milk",
    "description": "2 liters of milk",
    "status": "new"
  }'
```

### –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á

```bash
curl http://localhost:8080/tasks
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

```bash
curl -X PUT http://localhost:8080/tasks/1 \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Buy milk and bread",
    "description": "2 liters of milk, 1 loaf bread",
    "status": "in_progress"
  }'
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

```bash
curl -X DELETE http://localhost:8080/tasks/1
```

---

## –û—á–∏—Å—Ç–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
  ```bash
  docker-compose down
  ```
- –£–¥–∞–ª–∏—Ç—å —Ç–æ–º —Å –¥–∞–Ω–Ω—ã–º–∏ PostgreSQL (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
  ```bash
  docker-compose down -v
  ```

---

